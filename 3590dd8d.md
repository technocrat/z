---
date: 2021-06-13T11:47
---

# Moving average forecast

[[[TS]]]
[[script]]
[[R]]

``` r
library(smooth)
#> Loading required package: greybox
#> Package "greybox", v0.7.0 loaded.
#> This is package "smooth", v3.1.2.41025
# constructed from the London region data padded
# out with 24 additional months of zero values
# d <- append(the_data,rep(0,24))
d <- c(1982405.20939047, 1981813.14207141, 1944256.08808557, 2130954.96697445, 2055524.96049785, 1933470.01834758, 2130583.22869422, 2140004.34839994, 2178536.12201351, 2618647.3142826, 2261503.59849098, 2395914.45144875, 2244041.58943227, 2312852.5566119, 2139764.34322727, 2271865.00951108, 2257258.66095328, 2143260.85956108, 2674552.49089061, 2897454.0507065, 2442444.26259269, 2498161.78609759, 2329920.1816402, 2376161.25303358, 2033037.67394693, 2035726.64671637, 1979108.65993628, 2025376.90963123, 2108455.30680958, 2019087.89092289, 2221591.76508252, 2188517.01414875, 2365289.35976342, 2419574.44547757, 2154412.82224183, 2328531.46112259, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
ma_36 <- sma(d,order = 3, h=24,holdout = TRUE)
summary(ma_36)
#> Time elapsed: 0.01 seconds
#> Model estimated: SMA(3)
#> Initial values were produced using backcasting.
#> 
#> Loss function type: MSE; Loss function value: 37437865390.653
#> Error standard deviation: 199098.2
#> Sample size: 36
#> Number of estimated parameters: 2
#> Number of degrees of freedom: 34
#> Information criteria:
#>      AIC     AICc      BIC     BICc 
#> 982.6177 982.9814 985.7848 986.4363 
#> 
#> Forecast errors:
#> MPE: -Inf%; sCE: -2461.8%; Bias: -100%; MAPE: Inf%
#> MASE: 15.209; sMAE: 102.6%; sMSE: 105.2%; rMAE: 0.982; rRMSE: 0.982
forecast(ma_36, h = 24)
#> Time Series:
#> Start = 37 
#> End = 60 
#> Frequency = 1 
#>    Point forecast Lower bound (2.5%) Upper bound (97.5%)
#> 37        2300840            1896223             2705456
#> 38        2261261            1834758             2687764
#> 39        2296877            1834013             2759742
#> 40        2286326            1765045             2807607
#> 41        2281488            1728411             2834566
#> 42        2288231            1699599             2876862
#> 43        2285348            1660817             2909879
#> 44        2285022            1629756             2940289
#> 45        2286200            1600260             2972141
#> 46        2285524            1570094             3000953
#> 47        2285582            1542323             3028842
#> 48        2285769            1515409             3056128
#> 49        2285625            1489112             3082138
#> 50        2285659            1463894             3107424
#> 51        2285684            1439367             3132001
#> 52        2285656            1415492             3155820
#> 53        2285666            1392301             3179032
#> 54        2285669            1369679             3201658
#> 55        2285664            1347599             3223728
#> 56        2285666            1326035             3245297
#> 57        2285666            1304941             3266391
#> 58        2285665            1284291             3287039
#> 59        2285666            1264060             3307272
#> 60        2285666            1244221             3327111
plot(forecast(ma_36, h = 24))
```

![](https://i.imgur.com/PXrXpmZ.png)
